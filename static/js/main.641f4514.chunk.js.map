{"version":3,"sources":["Domain.js","ExactDomain.js","SearchResults.js","util.js","DomainSearch.js","index.js"],"names":["Domain","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","state","selected","content","_this2","_this$props$domainRes","props","domainResult","domain","listPrice","salePrice","extendedValidation","disclaimer","_this$props","text","cartClick","react_default","a","createElement","className","onClick","select","Component","ExactDomain","available","availableText","replace","notAvailableText","notAvailable","SearchResults","_ref","results","plid","exactMatchDomain","baseUrl","suggestedDomains","src_ExactDomain","Domain_Domain","map","index","key","util","location","params","url","URL","keys","forEach","searchParams","append","fetchJsonp","href","timeout","then","response","json","initialState","searching","submitting","error","selectedDomains","hasError","DomainSearch","handleChange","bind","assertThisInitialized","handleDomainSearch","handleContinueClick","domainToCheck","setState","search","event","target","value","q","pageSize","domainUrl","concat","data","message","catch","e","preventDefault","length","domainObj","indexOf","newSelectDomains","toConsumableArray","slice","_this$state","items","item","push","id","JSON","stringify","_this3","_this$props2","_this$state2","domainCount","hasExactMatch","cartUrl","generateCartItems","window","onbeforeunload","undefined","react","onSubmit","type","onChange","placeholder","disabled","method","action","name","cart","src_SearchResults","handleSelectClick","elements","document","getElementsByClassName","Array","prototype","call","element","dataset","text_placeholder","text_search","text_available","text_not_available","text_cart","text_select","text_selected","base_url","page_size","parsed","queryString","parse","ReactDOM","render","DomainSearch_DomainSearch"],"mappings":"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","file":"static/js/main.641f4514.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Domain extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.state = {\n      selected: false\n    };\n  };\n\n  render() {\n    const {\n      domain,\n      listPrice,\n      salePrice,\n      extendedValidation,\n      disclaimer\n    } = this.props.domainResult;\n\n    const {\n      text,\n      cartClick\n    } = this.props;\n\n    let content;\n\n    if (this.state.selected) {\n      content = (\n        <div className=\"rstore-message\">\n          <span className=\"dashicons dashicons-yes rstore-success\"></span>\n          <button className=\"rstore-domain-buy-button selected btn btn-default\" onClick={ ()=>cartClick(this) }>{ text.selected }</button>\n        </div>\n      );\n    }\n    else {\n      content = (\n        <div className=\"rstore-message\">\n          { listPrice !== salePrice && <span className=\"listPrice\"><small><s>{ listPrice }</s></small></span> }\n          <span className=\"salePrice\"><strong>{ salePrice}{extendedValidation && '*' }</strong></span>\n           <button className=\"rstore-domain-buy-button select btn btn-secondary\" onClick={ ()=>cartClick(this) }>{ text.select }</button>\n        </div>\n      );\n    }\n\n    if (domain && listPrice) {\n      return (\n        <div className=\"domain-result\">\n          <div className=\"domain-name\">\n            { domain }\n            <span className=\"rstore-disclaimer\"><pre>{ disclaimer }</pre></span>\n          </div>\n          <div className=\"purchase-info\">\n            { content }\n          </div>\n        </div>\n      );\n    }\n\n    return(<div></div>);\n  }\n}\n\nDomain.propTypes = {\n  domainResult: PropTypes.object.isRequired,\n  text: PropTypes.object.isRequired,\n  cartClick: PropTypes.func.isRequired\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ExactDomain = (props) => {\n  const {\n    domainResult,\n    text\n  } = props;\n\n  let content = null;\n\n  if (domainResult.available) {\n    const availableText = text.available.replace('{domain_name}', domainResult.domain);\n    content = (\n      <p className=\"available\">{ availableText }</p>\n    );\n  }\n  else {\n    const notAvailableText = text.notAvailable.replace('{domain_name}', domainResult.domain);\n    content = (\n      <p className=\"not-available\">{ notAvailableText }</p>\n    );\n  }\n\n  return content;\n}\n\nExactDomain.propTypes = {\n  domainResult: PropTypes.object.isRequired,\n  text: PropTypes.object.isRequired\n}\n\nexport default ExactDomain;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Domain from './Domain';\nimport ExactDomain from './ExactDomain';\n\nconst SearchResults = ({ results, cartClick, plid, text, baseUrl }) => {\n  const {\n    exactMatchDomain,\n    suggestedDomains,\n    disclaimer\n  } = results;\n\n  return (\n    <div className=\"result-content\">\n      <ExactDomain domainResult={ exactMatchDomain } text={ text } />\n      <div className=\"rstore-exact-domain-list\">\n        <Domain domainResult={ exactMatchDomain } text={ text } cartClick={ cartClick }/>\n      </div>\n      <div className=\"rstore-domain-list\">\n        { suggestedDomains && suggestedDomains.map((domainResult, index) => {\n          return domainResult.available && (<Domain key={ index } domainResult={ domainResult } text={ text } cartClick={ cartClick }/>);\n        })}\n      </div>\n      <div className=\"rstore-disclaimer\"><pre>{ disclaimer }</pre></div>\n    </div>\n  );\n};\n\nSearchResults.propTypes = {\n  results: PropTypes.object.isRequired,\n  cartClick: PropTypes.func.isRequired,\n  text: PropTypes.object.isRequired\n}\n\nexport default SearchResults;\n","import fetchJsonp from 'fetch-jsonp';\n\n// istanbul ignore next\nconst fetchjsonp = (location, params) => {\n  var url = new URL(location);\n  Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n  return fetchJsonp(url.href, { timeout: 15000 })\n    .then(response => {\n      return response.json();\n    });\n  }\n\nexport default { fetchJsonp: fetchjsonp };\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport SearchResults from './SearchResults';\n\nimport util from './util';\n\nconst initialState = {\n  results: null,\n  searching: false,\n  submitting: false,\n  error: '',\n  selectedDomains: [],\n  hasError: false,\n  domain: ''\n};\n\nexport default class DomainSearch extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleDomainSearch = this.handleDomainSearch.bind(this);\n    this.handleContinueClick = this.handleContinueClick.bind(this);\n\n    this.state = initialState;\n  };\n\n  componentDidMount() {\n    if (this.props.domainToCheck) {\n      this.setState({ domain: this.props.domainToCheck });\n      this.search(this.props.domainToCheck);\n    }\n  }\n\n  handleChange(event) {\n    this.setState({ domain: event.target.value });\n  }\n\n  search(q) {\n    const {\n      baseUrl,\n      plid,\n      pageSize\n    } = this.props;\n\n    this.setState({ searching: true });\n\n    const domainUrl = `https://www.${baseUrl}/api/v1/domains/${plid}/`;\n\n    return util.fetchJsonp(domainUrl, { pageSize, q }).then(data => {\n        this.setState({\n          results: data.exactMatchDomain ? data : null,\n          error: data.error ? data.error.message : '',\n          searching: false\n        });\n      }).catch(error => {\n        this.setState({\n          searching: false,\n          error: error.message\n        });\n      });\n  }\n\n  handleDomainSearch(e) {\n    e.preventDefault();\n    if (this.state.domain.length > 0) {\n      this.search(this.state.domain);\n    }\n  }\n\n  handleSelectClick(domainObj) {\n    const { selectedDomains } = this.state;\n\n    const index = selectedDomains.indexOf(domainObj.props.domainResult);\n    let newSelectDomains = [];\n\n    if (index >= 0 ){\n      newSelectDomains = [\n        ...selectedDomains.slice(0, index),\n        ...selectedDomains.slice(index + 1)\n      ];\n\n      domainObj.setState({\n        selected: false,\n      });\n    }\n    else {\n      newSelectDomains = [\n        ...selectedDomains,\n        domainObj.props.domainResult\n      ];\n\n      domainObj.setState({\n        selected: true,\n      });\n    }\n\n    this.setState({ selectedDomains: newSelectDomains });\n  }\n\n  handleContinueClick() {\n    this.setState({ submitting: true })\n  }\n\n  generateCartItems() {\n    const {\n      selectedDomains,\n      results\n    } = this.state;\n\n    const items = [];\n\n    if (results) {\n      let domains;\n\n      if (selectedDomains.length === 0 && results.exactMatchDomain.available) {\n        domains = [results.exactMatchDomain];\n      }\n      else {\n        domains = selectedDomains;\n      }\n\n      domains.forEach(item => {\n        items.push({\n          id: 'domain',\n          domain: item.domain\n        });\n      });\n    }\n\n    return JSON.stringify(items);\n  }\n\n  render() {\n    const {\n      baseUrl,\n      plid,\n      text\n    } = this.props;\n\n    const {\n      searching,\n      submitting,\n      results,\n      selectedDomains,\n      error\n    } = this.state;\n\n    const domainCount = selectedDomains.length;\n    const hasExactMatch = results && results.exactMatchDomain && results.exactMatchDomain.available;\n    const cartUrl = `https://www.${baseUrl}/api/v1/cart/${plid}/?redirect=true`;\n    const items = this.generateCartItems();\n\n    // Prevent navigation when domains are selected and user attempts to navigate\n    // outside of the domain purchase path\n    window.onbeforeunload = () => {\n      // Most browsers control the return message to the user, we can safely return an empty string here.\n      return !submitting && (hasExactMatch || domainCount > 0) ? '' : undefined;\n    };\n\n    return (\n      <Fragment>\n        <div className=\"form-container\">\n          <form className=\"search-form\" onSubmit={ this.handleDomainSearch }>\n            <input\n              type=\"search\"\n              value={ this.state.domain }\n              onChange={ this.handleChange }\n              className=\"search-field\"\n              placeholder={ text.placeholder }\n            />\n            <input\n              type=\"submit\"\n              className=\"rstore-domain-search-button search-submit btn btn-primary\"\n              disabled={ searching || submitting }\n              value={ text.search }\n            />\n          </form>\n        </div>\n\n        { results &&\n          <form className=\"continue-form\" method=\"POST\" action= { cartUrl }>\n            <input type=\"hidden\" name=\"items\" value={ items } />\n            <button\n              type=\"submit\"\n              className=\"rstore-domain-continue-button btn btn-secondary\"\n              onClick={ this.handleContinueClick }\n              disabled={ domainCount === 0 && !hasExactMatch }\n            >\n              { text.cart }\n              { (domainCount > 0) && `(${domainCount} ${text.selected})` }\n            </button>\n          </form>\n        }\n\n        { error && <div className=\"rstore-error\">Error: { error }</div> }\n        { (searching || submitting) && <div className=\"rstore-loading\"></div> }\n        { results && <SearchResults results={ results } cartClick={ domain => this.handleSelectClick(domain) } text={ text }/> }\n      </Fragment>\n    );\n  }\n}\n\nDomainSearch.propTypes = {\n  plid: PropTypes.string.isRequired,\n  text: PropTypes.object.isRequired,\n  baseUrl: PropTypes.string.isRequired\n}\n","import 'url-polyfill';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport DomainSearch from './DomainSearch';\nimport queryString from 'query-string';\n\nconst elements = document.getElementsByClassName('rstore-domain-search');\n\nArray.prototype.forEach.call(elements, element => {\n  //variable naming is based on WordPress coding standards\n  // https://make.wordpress.org/core/handbook/best-practices/coding-standards/php/#naming-conventions\n  const text = {\n    placeholder: element.dataset.text_placeholder || 'Find your perfect domain name',\n    search: element.dataset.text_search || 'Search',\n    available: element.dataset.text_available || 'Congrats, {domain_name} is available!',\n    notAvailable: element.dataset.text_not_available || 'Sorry, {domain_name} is taken.',\n    cart: element.dataset.text_cart || 'Continue to Cart',\n    select: element.dataset.text_select || 'Select',\n    selected: element.dataset.text_selected || 'Selected'\n  };\n\n  const baseUrl = element.dataset.base_url || 'secureserver.net';\n  const pageSize = element.dataset.page_size || '5';\n  const parsed = queryString.parse(window.location.search);\n\n  return ReactDOM.render(\n    <DomainSearch text={text} plid={element.dataset.plid} baseUrl={baseUrl} pageSize={pageSize} domainToCheck={parsed.domainToCheck}/>,\n    element\n  );\n});\n"],"sourceRoot":""}