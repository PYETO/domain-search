(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(25)},25:function(e,t,a){"use strict";a.r(t);a(14);var n=a(0),s=a.n(n),r=a(10),c=a.n(r),i=a(7),l=a(2),o=a(3),m=a(6),d=a(4),u=a(5),h=a(1),p=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).apply(this,arguments))).state={selected:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.domainResult,n=a.domain,r=a.listPrice,c=a.salePrice,i=a.extendedValidation,l=a.disclaimer,o=this.props,m=o.text,d=o.cartClick;return e=this.state.selected?s.a.createElement("div",{className:"rstore-message"},s.a.createElement("span",{className:"dashicons dashicons-yes rstore-success"}),s.a.createElement("a",{className:"rstore-domain-buy-button submit button selected btn btn-default",onClick:function(){return d(t)}},m.selected)):s.a.createElement("div",{className:"rstore-message"},r!==c&&s.a.createElement("span",{className:"listPrice"},s.a.createElement("small",null,s.a.createElement("s",null,r))),s.a.createElement("span",{className:"salePrice"},s.a.createElement("strong",null,c,i&&"*")),s.a.createElement("a",{className:"rstore-domain-buy-button submit button select btn btn-secondary",onClick:function(){return d(t)}},m.select)),n&&r?s.a.createElement("div",{className:"domain-result"},s.a.createElement("div",{className:"domain-name"},n,s.a.createElement("span",{className:"rstore-disclaimer"},s.a.createElement("pre",null,l))),s.a.createElement("div",{className:"purchase-info"},e)):s.a.createElement("div",null)}}]),t}(n.Component),b=function(e){var t=e.domainResult,a=e.text,n=null;if(t.available){var r=a.available.replace("{domain_name}",t.domain);n=s.a.createElement("p",{className:"available"},r)}else{var c=a.notAvailable.replace("{domain_name}",t.domain);n=s.a.createElement("p",{className:"not-available"},c)}return n},v=function(e){var t=e.results,a=e.cartClick,n=(e.plid,e.text),r=(e.baseUrl,t.exactMatchDomain),c=t.suggestedDomains,i=t.disclaimer;return s.a.createElement("div",{className:"result-content"},s.a.createElement(b,{domainResult:r,text:n}),s.a.createElement("div",{className:"rstore-exact-domain-list"},s.a.createElement(p,{domainResult:r,text:n,cartClick:a})),s.a.createElement("div",{className:"rstore-domain-list"},c&&c.map(function(e,t){return e.available&&s.a.createElement(p,{key:t,domainResult:e,text:n,cartClick:a})})),s.a.createElement("div",{className:"rstore-disclaimer"},s.a.createElement("pre",null,i)))},f=a(11),E=a.n(f),C=function(e,t){var a=new URL(e);return Object.keys(t).forEach(function(e){return a.searchParams.append(e,t[e])}),E()(a.href,{timeout:15e3}).then(function(e){return e.json()})},g={results:null,searching:!1,addingToCart:!1,error:"",selectedDomains:[],hasError:!1,domain:""},k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).apply(this,arguments))).handleChange=e.handleChange.bind(Object(h.a)(Object(h.a)(e))),e.handleDomainSearch=e.handleDomainSearch.bind(Object(h.a)(Object(h.a)(e))),e.handleContinueClick=e.handleContinueClick.bind(Object(h.a)(Object(h.a)(e))),e.state=g,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.domainToCheck&&(this.setState({domain:this.props.domainToCheck}),this.search(this.props.domainToCheck))}},{key:"handleChange",value:function(e){this.setState({domain:e.target.value})}},{key:"search",value:function(e){var t=this,a=this.props,n=a.baseUrl,s=a.plid,r=a.pageSize;this.setState({searching:!0});var c="https://www.".concat(n,"/api/v1/domains/").concat(s,"/");return C(c,{pageSize:r,q:e}).then(function(e){t.setState({results:e.exactMatchDomain?e:null,error:e.error?e.error.message:"",searching:!1})}).catch(function(e){t.setState({searching:!1,error:e.message})})}},{key:"handleDomainSearch",value:function(e){e.preventDefault(),this.state.domain.length>0&&this.search(this.state.domain)}},{key:"addDomainsToCart",value:function(e){var t=this.props,a=t.baseUrl,n=t.plid,s="https://www.".concat(a,"/api/v1/cart/").concat(n,"/"),r=[];e.forEach(function(e){r.push({id:"domain",domain:e.domain})});var c=JSON.stringify({items:r});return C(s,{cart:c})}},{key:"handleContinueClick",value:function(e){var t=this;e.preventDefault();var a,n=this.state,s=n.selectedDomains,r=n.results;this.setState({addingToCart:!0}),a=0===s.length&&r.exactMatchDomain.available?[r.exactMatchDomain]:s,this.addDomainsToCart(a).then(function(e){return e.NextStepUrl?window.location.href=e.NextStepUrl:e.error?t.setState({addingToCart:!1,error:e.error.message}):void 0}).catch(function(e){t.setState({addingToCart:!1,error:e.message})})}},{key:"handleSelectClick",value:function(e){var t=this.state.selectedDomains,a=t.indexOf(e.props.domainResult),n=[];a>=0?(n=[].concat(Object(i.a)(t.slice(0,a)),Object(i.a)(t.slice(a+1))),e.setState({selected:!1})):(n=[].concat(Object(i.a)(t),[e.props.domainResult]),e.setState({selected:!0})),this.setState({selectedDomains:n})}},{key:"render",value:function(){var e=this,t=this.state,a=t.searching,n=t.addingToCart,r=t.results,c=t.selectedDomains,i=t.error,l=c.length,o=r&&r.exactMatchDomain&&r.exactMatchDomain.available;return window.onbeforeunload=function(){return!n&&(o||l>0)?"":void 0},s.a.createElement("form",{className:"search-form",onSubmit:this.handleDomainSearch},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"input-group2"},s.a.createElement("label",null,s.a.createElement("input",{type:"search",value:this.state.domain,onChange:this.handleChange,className:"search-field",placeholder:this.props.text.placeholder})),s.a.createElement("input",{type:"submit",className:"rstore-domain-search-button search-submit btn btn-primary",disabled:a,value:this.props.text.search})),r&&s.a.createElement("span",{className:"input-continue-btn"},s.a.createElement("button",{type:"button",className:"rstore-domain-continue-button btn btn-secondary",onClick:this.handleContinueClick,disabled:0===l&&!o},this.props.text.cart,l>0&&"(".concat(l," ").concat(this.props.text.selected,")")))),i&&s.a.createElement("div",{className:"rstore-error"},"Error: ",i),(n||a)&&s.a.createElement("div",{className:"rstore-loading"}),r&&s.a.createElement(v,{results:r,cartClick:function(t){return e.handleSelectClick(t)},text:this.props.text}))}}]),t}(n.Component),x=a(12),N=a.n(x),y=document.getElementsByClassName("rstore-domain-search");Array.prototype.forEach.call(y,function(e){var t={placeholder:e.dataset.text_placeholder||"Find your perfect domain name",search:e.dataset.text_search||"Search",available:e.dataset.text_available||"Congrats, {domain_name} is available!",notAvailable:e.dataset.text_not_available||"Sorry, {domain_name} is taken.",cart:e.dataset.text_cart||"Continue to Cart",select:e.dataset.text_select||"Select",selected:e.dataset.text_selected||"Selected"},a=e.dataset.base_url||"secureserver.net",n=e.dataset.page_size||"5",r=N.a.parse(window.location.search);return c.a.render(s.a.createElement(k,{text:t,plid:e.dataset.plid,baseUrl:a,pageSize:n,domainToCheck:r.domainToCheck}),e)})}},[[13,2,1]]]);
//# sourceMappingURL=main.aa72de5d.chunk.js.map